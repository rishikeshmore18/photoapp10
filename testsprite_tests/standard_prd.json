{
  "meta": {
    "project": "Photo App 1.0",
    "date": "2025-09-13",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Photo App 1.0 is an Android photo management application focusing on user privacy, intuitive organization, and reliable backup. It enables users to capture, organize, and back up photos securely with features like emoji-based tagging, Google Drive integration, and advanced search capabilities, all built with modern Android technologies.",
  "core_goals": [
    "Ensure user photo privacy and security with app-private storage and encrypted preferences",
    "Provide easy and intuitive organization tools including custom albums and emoji tagging",
    "Offer reliable backup options with Google Drive cloud sync and local backup/restore",
    "Deliver high performance with fast app launch, photo processing, and responsive UI",
    "Achieve high user satisfaction with a smooth user experience and robust features"
  ],
  "key_features": [
    "Google Sign-In authentication with Drive API integration for secure access",
    "Native camera integration and gallery import with metadata preservation",
    "Custom album management with emoji icons, cover photos, and metadata tracking",
    "Advanced photo tagging using emojis with tag management and search",
    "Powerful search capabilities across filenames, captions, and emoji tags with real-time results",
    "Photo detail management including caption editing, favorite toggling, and metadata viewing",
    "Backup and synchronization via Google Drive appData folder and local backup/export functions",
    "Flexible sorting and viewing options including grid and list modes",
    "App settings and user preferences management for theme and sorting",
    "Comprehensive security and privacy features including data isolation and minimal permissions"
  ],
  "user_flow_summary": [
    "User signs in with Google and grants necessary permissions",
    "User creates or selects an album using emoji icons",
    "User captures photos via native camera or imports from gallery",
    "User adds captions and emoji tags to photos, manages favorites",
    "User searches photos or albums by text or emoji tags",
    "User initiates backup to Google Drive or local storage, monitors progress",
    "User views or edits photo details and shares or deletes photos",
    "User adjusts app settings for theme and sorting preferences"
  ],
  "validation_criteria": [
    "Authentication flow completes with valid Google account and Drive API access",
    "Photos are captured, imported, and displayed with correct metadata and thumbnails",
    "Albums can be created, edited, and deleted with emoji icons successfully",
    "Emoji tags can be added, removed, and searched with accurate results",
    "Backup to Google Drive and local export/import functions operate reliably",
    "Search returns relevant results in under 300ms with recent query history",
    "Performance targets for app launch and photo processing are met consistently",
    "Privacy is maintained by storing photos in app-private directories and enforcing permission controls",
    "User settings persist correctly with updates reflected in the UI",
    "App crashes remain below 0.1% with smooth navigation and responsiveness"
  ],
  "code_summary": {
    "tech_stack": [
      "Kotlin",
      "Android",
      "Jetpack Compose",
      "Room Database",
      "Google Drive API",
      "Google Sign-In",
      "WorkManager",
      "DataStore",
      "Coil Image Loading",
      "Retrofit",
      "Timber Logging"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "Google Sign-In authentication with Drive API access",
        "files": [
          "app/src/main/java/com/example/photoapp10/feature/auth/AuthManager.kt",
          "app/src/main/java/com/example/photoapp10/feature/auth/ui/SignInScreen.kt",
          "app/src/main/java/com/example/photoapp10/feature/auth/ui/RestoreGateScreen.kt"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Authentication API",
            "version": "1.0.0",
            "description": "Google Sign-In and Drive API authentication"
          },
          "paths": {
            "/auth/signin": {
              "post": {
                "summary": "Sign in with Google",
                "responses": {
                  "200": {
                    "description": "Successfully signed in",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "success": {
                              "type": "boolean"
                            },
                            "account": {
                              "type": "object"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Album Management",
        "description": "Create, edit, delete, and manage photo albums",
        "files": [
          "app/src/main/java/com/example/photoapp10/feature/album/ui/AlbumsScreen.kt",
          "app/src/main/java/com/example/photoapp10/feature/album/ui/AlbumDetailScreen.kt",
          "app/src/main/java/com/example/photoapp10/feature/album/ui/AlbumsViewModel.kt",
          "app/src/main/java/com/example/photoapp10/feature/album/ui/AlbumDetailViewModel.kt",
          "app/src/main/java/com/example/photoapp10/feature/album/data/AlbumDao.kt",
          "app/src/main/java/com/example/photoapp10/feature/album/data/AlbumEntity.kt",
          "app/src/main/java/com/example/photoapp10/feature/album/domain/AlbumRepository.kt"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Album Management API",
            "version": "1.0.0",
            "description": "Album CRUD operations and management"
          },
          "paths": {
            "/albums": {
              "get": {
                "summary": "Get all albums",
                "responses": {
                  "200": {
                    "description": "List of albums",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "name": {
                                "type": "string"
                              },
                              "emoji": {
                                "type": "string"
                              },
                              "favorite": {
                                "type": "boolean"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "post": {
                "summary": "Create new album",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "emoji": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Album created successfully"
                  }
                }
              }
            },
            "/albums/{id}": {
              "put": {
                "summary": "Update album",
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "integer"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Album updated successfully"
                  }
                }
              },
              "delete": {
                "summary": "Delete album",
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "integer"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Album deleted successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Photo Management",
        "description": "Photo capture, storage, viewing, and management",
        "files": [
          "app/src/main/java/com/example/photoapp10/feature/photo/ui/PhotoDetailScreen.kt",
          "app/src/main/java/com/example/photoapp10/feature/photo/ui/PhotosGrid.kt",
          "app/src/main/java/com/example/photoapp10/feature/photo/data/PhotoDao.kt",
          "app/src/main/java/com/example/photoapp10/feature/photo/data/PhotoEntity.kt",
          "app/src/main/java/com/example/photoapp10/feature/photo/domain/PhotoRepository.kt",
          "app/src/main/java/com/example/photoapp10/core/camera/CameraIntentHelper.kt"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Photo Management API",
            "version": "1.0.0",
            "description": "Photo capture, storage, and management operations"
          },
          "paths": {
            "/photos": {
              "get": {
                "summary": "Get photos in album",
                "parameters": [
                  {
                    "name": "albumId",
                    "in": "query",
                    "required": true,
                    "schema": {
                      "type": "integer"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "List of photos",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "filename": {
                                "type": "string"
                              },
                              "path": {
                                "type": "string"
                              },
                              "favorite": {
                                "type": "boolean"
                              },
                              "takenAt": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "post": {
                "summary": "Add photo to album",
                "requestBody": {
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "file": {
                            "type": "string",
                            "format": "binary"
                          },
                          "albumId": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Photo added successfully"
                  }
                }
              }
            },
            "/photos/{id}/favorite": {
              "put": {
                "summary": "Toggle photo favorite status",
                "parameters": [
                  {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "integer"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Favorite status updated"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Cloud Backup & Sync",
        "description": "Google Drive backup and restore functionality",
        "files": [
          "app/src/main/java/com/example/photoapp10/feature/backup/DriveSyncManager.kt",
          "app/src/main/java/com/example/photoapp10/feature/backup/work/DriveSyncWorker.kt",
          "app/src/main/java/com/example/photoapp10/feature/backup/drive/DriveAppData.kt",
          "app/src/main/java/com/example/photoapp10/feature/backup/drive/DriveUploader.kt",
          "app/src/main/java/com/example/photoapp10/feature/backup/domain/DriveRestore.kt",
          "app/src/main/java/com/example/photoapp10/feature/backup/domain/SimpleBackupManager.kt",
          "app/src/main/java/com/example/photoapp10/feature/backup/ui/SimpleBackupScreen.kt"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Cloud Backup & Sync API",
            "version": "1.0.0",
            "description": "Google Drive backup and restore operations"
          },
          "paths": {
            "/backup/sync": {
              "post": {
                "summary": "Start cloud sync",
                "responses": {
                  "200": {
                    "description": "Sync started successfully"
                  }
                }
              }
            },
            "/backup/restore": {
              "post": {
                "summary": "Restore from cloud backup",
                "responses": {
                  "200": {
                    "description": "Restore completed successfully"
                  }
                }
              }
            },
            "/backup/local/create": {
              "post": {
                "summary": "Create local backup",
                "responses": {
                  "200": {
                    "description": "Local backup created successfully"
                  }
                }
              }
            },
            "/backup/local/restore": {
              "post": {
                "summary": "Restore from local backup",
                "responses": {
                  "200": {
                    "description": "Local restore completed successfully"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Search",
        "description": "Search functionality for albums and photos",
        "files": [
          "app/src/main/java/com/example/photoapp10/feature/search/ui/SearchScreen.kt",
          "app/src/main/java/com/example/photoapp10/feature/search/domain/SearchUseCase.kt"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Search API",
            "version": "1.0.0",
            "description": "Search albums and photos"
          },
          "paths": {
            "/search": {
              "get": {
                "summary": "Search albums and photos",
                "parameters": [
                  {
                    "name": "query",
                    "in": "query",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "Search results",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "albums": {
                              "type": "array",
                              "items": {
                                "type": "object"
                              }
                            },
                            "photos": {
                              "type": "array",
                              "items": {
                                "type": "object"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Settings",
        "description": "App settings and preferences management",
        "files": [
          "app/src/main/java/com/example/photoapp10/feature/settings/ui/SettingsScreen.kt",
          "app/src/main/java/com/example/photoapp10/feature/settings/data/SortPrefs.kt",
          "app/src/main/java/com/example/photoapp10/feature/settings/data/UserPrefs.kt",
          "app/src/main/java/com/example/photoapp10/core/prefs/UserPrefs.kt"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "info": {
            "title": "Settings API",
            "version": "1.0.0",
            "description": "App settings and user preferences"
          },
          "paths": {
            "/settings": {
              "get": {
                "summary": "Get app settings",
                "responses": {
                  "200": {
                    "description": "Current settings",
                    "content": {
                      "application/json": {
                        "schema": {
                          "type": "object",
                          "properties": {
                            "theme": {
                              "type": "string"
                            },
                            "sortMode": {
                              "type": "string"
                            },
                            "rememberDevice": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "put": {
                "summary": "Update app settings",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "theme": {
                            "type": "string"
                          },
                          "sortMode": {
                            "type": "string"
                          },
                          "rememberDevice": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "200": {
                    "description": "Settings updated successfully"
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
